/* =========================================================================== */
/* MODULE: Clientes                                                          */
/* =========================================================================== */
.search-bar-container { padding: 20px var(--espacio-m) var(--espacio-m) var(--espacio-m); position: sticky; top: 0; background: var(--gris-fondo-claro); z-index: 10; }
.form-page-container { display: flex; flex-direction: column; height: 100%; }
.form-page-header { display: flex; justify-content: space-between; align-items: center; padding: var(--espacio-m); border-bottom: 1px solid var(--gris-borde-sutil); background: var(--blanco); flex-shrink: 0; }
.form-page-header h3 { margin: 0; font-size: 1.2em; }
.form-page-header .btn { margin-bottom: 0; width: auto; padding: 10px 16px; }
.form-page-body { flex-grow: 1; overflow-y: auto; padding: var(--espacio-l); }
.btn-back { background: none; border: none; cursor: pointer; padding: 5px; }
.btn-back svg { width: 28px; height: 28px; color: var(--negro-azabache); }
.clientes-list-wrapper { overflow-y: auto; padding: 0 var(--espacio-m); max-height: calc(100vh - 200px);}
.cliente-item { display: flex; align-items: center; padding: var(--espacio-m); border-bottom: 1px solid var(--gris-borde-sutil); cursor: pointer; transition: background-color var(--transicion-rapida); }
.cliente-item:hover { background-color: var(--gris-hover-sutil); }
.cliente-item .info { flex-grow: 1; display: flex; flex-direction: column; gap: 4px; }
.cliente-item .nombre { font-weight: 600; font-size: 1.1em; color: var(--negro-azabache); }
.cliente-item .nombre .alias { font-weight: 400; font-style: italic; font-size: 0.9em; color: var(--gris-texto-secundario); }
.cliente-item .telefono, .cliente-item .direccion { font-size: 0.9em; color: var(--gris-texto-secundario); line-height: 1.3; }
.cliente-item .tipo-dato, .cliente-item .muted { font-style: italic; color: var(--gris-texto-terciario); }
.cliente-detalle-container { padding: var(--espacio-m); padding-top: 60px; display: flex; flex-direction: column; gap: var(--espacio-l); }
.detalle-header { display: flex; flex-direction: column; align-items: flex-start; gap: var(--espacio-m); }
.detalle-header .acciones { display: flex; gap: var(--espacio-m); width: 100%; }
.detalle-header .acciones .btn { flex-grow: 1; margin-bottom: 0; }
.detalle-header .nombre-completo { font-size: 1.8em; font-weight: 700; line-height: 1.2; }
.detalle-header .alias { font-size: 1.2em; font-style: italic; color: var(--gris-texto-secundario); margin-left: var(--espacio-s); }
.detalle-card { background: var(--blanco); border: 1px solid var(--gris-borde-sutil); border-radius: var(--radio-borde-m); padding: var(--espacio-m); box-shadow: var(--sombra-sm); }
.detalle-card h4 { margin-top: 0; border-bottom: 1px solid var(--gris-borde-sutil); padding-bottom: var(--espacio-s); margin-bottom: var(--espacio-m); }
.info-linea { display: flex; justify-content: space-between; margin-bottom: var(--espacio-s); }
.info-linea .tipo { font-weight: 600; }
.info-linea .valor { color: var(--gris-texto-secundario); }
.direccion-bloque { margin-bottom: var(--espacio-m); }
.direccion-bloque .referencias { font-size: 0.9em; color: var(--gris-texto-secundario); padding-left: var(--espacio-s); border-left: 3px solid var(--amarillo-polleria); margin-top: var(--espacio-xs); }
.detalle-map-container { height: 150px; width: 100%; border-radius: var(--radio-borde-s); margin-top: var(--espacio-m); z-index: 0; position: relative; }
.map-actions { position: absolute; bottom: 10px; right: 10px; z-index: 401; display: flex; gap: 8px; }
.btn-map-action { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: white; border: 1px solid #ccc; border-radius: 50%; box-shadow: var(--sombra-sm); cursor: pointer; color: #333; transition: background-color 0.2s; }
.btn-map-action:hover { background-color: #f4f4f4; }
.btn-map-action svg { width: 20px; height: 20px; }
.no-items-mensaje { color: var(--gris-texto-secundario); font-style: italic; }
.search-results-list { max-height: 150px; overflow-y: auto; margin-bottom: var(--espacio-m); border-radius: var(--radio-borde-m); }
.search-result-item .nombre { font-weight: 600; }
.search-result-item .telefono { font-size: 0.9em; color: var(--gris-texto-secundario); }
.registro-rapido { margin-top: var(--espacio-l); padding-top: var(--espacio-l); border-top: 1px solid var(--gris-borde-sutil); }
.registro-rapido h4 { margin-top: 0; margin-bottom: var(--espacio-m); }

/* --- Consolidated Styles for Add Client Modal --- */
#cliente-anadir-modal-container .modal-content { max-width: 600px; background-color: var(--blanco); border-radius: var(--radio-borde-l); display: flex; flex-direction: column; max-height: 90vh; }
#cliente-anadir-modal-container .modal-header { flex-shrink: 0; }
#cliente-anadir-modal-container .modal-body { flex-grow: 1; overflow-y: auto; }
#cliente-anadir-modal-container .header-actions .btn { margin-bottom: 0; }
#cliente-anadir-modal-container .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
#cliente-anadir-modal-container .modal-section { margin-top: var(--espacio-l); }
#cliente-anadir-modal-container .modal-section h4 { display: flex; justify-content: space-between; align-items: center; margin-top: var(--espacio-m); font-size: 1em; color: var(--gris-texto-secundario); font-weight: 600; }
#cliente-anadir-modal-container .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--espacio-m); }
#cliente-anadir-modal-container .dynamic-fields-container { display: flex; flex-direction: column; gap: var(--espacio-m); }
#cliente-anadir-modal-container .dynamic-field-group { display: flex; gap: var(--espacio-s); align-items: center; }
#cliente-anadir-modal-container .dynamic-field-group .form-group { flex-grow: 1; margin-bottom: 0; }
#cliente-anadir-modal-container .form-group-telefono-tipo { flex-grow: 0; flex-basis: 140px; }
#cliente-anadir-modal-container .form-group-direccion-tipo { flex-grow: 0; flex-basis: 140px; }
#cliente-anadir-modal-container .dynamic-field-group .form-group-large { flex-basis: 60%; }
.map-container { height: 200px; border-radius: var(--radio-borde-m); margin-top: var(--espacio-s); z-index: 1; }
.leaflet-control-locate { display: flex !important; align-items: center; justify-content: center; width: 30px; height: 30px; background-color: white; cursor: pointer; }
.leaflet-control-locate svg { width: 18px; height: 18px; stroke: #333; }
.leaflet-control-custom .leaflet-control-locate:hover { background-color: #f4f4f4; }
.leaflet-control-reset { display: flex !important; align-items: center; justify-content: center; width: 30px; height: 30px; background-color: white; cursor: pointer; }
.leaflet-control-reset svg { width: 14px; height: 14px; stroke: var(--rojo-peligro-texto, #e74c3c); }
.leaflet-control-custom .leaflet-control-reset:hover { background-color: #f4f4f4; }
#cliente-anadir-modal-container .form-group label { display: block; margin-bottom: var(--espacio-s); font-weight: 600; font-size: 0.9em; }
#cliente-anadir-modal-container input[type="text"], #cliente-anadir-modal-container input[type="tel"], #cliente-anadir-modal-container select, #cliente-anadir-modal-container textarea { width: 100%; padding: var(--espacio-s); border: 1px solid var(--gris-borde-input); border-radius: var(--radio-borde-l); font-size: 1em; background-color: var(--gris-elemento-claro); color: var(--negro-azabache); font-family: var(--fuente-principal); }
#cliente-anadir-modal-container select { appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right var(--espacio-m) center; background-size: 16px 12px; padding-right: calc(var(--espacio-m) * 2.5); }
#cliente-anadir-modal-container textarea { resize: vertical; min-height: 60px; }